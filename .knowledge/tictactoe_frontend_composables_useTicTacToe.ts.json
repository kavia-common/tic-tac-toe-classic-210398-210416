{"is_source_file": true, "format": "TypeScript", "description": "This file defines a composable Vue 3 hook 'useTicTacToe' that manages the state and behavior of a Tic-Tac-Toe game, including move handling, winner detection, score management, opponent toggling, and integration with an AI move generator.", "external_files": ["@/types/game", "./useAI"], "external_methods": ["bestMove"], "published": ["useTicTacToe"], "classes": [], "methods": [{"name": "export function useTicTacToe(audit: AuditApi) { useTicTacToe", "description": "Main function providing reactive game state, actions to start new game, reset scores, toggle opponent, and make moves, using Vue's Composition API.", "scope": "", "scopeKind": ""}, {"name": "checkWinner", "description": "Determines the game winner or a draw based on the current board state."}, {"name": "finalizeGame", "description": "Updates game state upon game completion, adjusting scores accordingly."}, {"name": "newGame", "description": "Resets the game board to start a new round while keeping scores."}, {"name": "resetScores", "description": "Resets the game scores to zero."}, {"name": "toggleOpponent", "description": "Switches between human and AI opponent modes."}, {"name": "makeMove", "description": "Handles a player's move at a specific board index, manages game state updates, winner detection, and AI move invocation."}, {"name": "maybeAIMove", "description": "Triggers an AI move if the opponent mode is AI and it's the AI's turn."}], "calls": ["bestMove", "checkWinner", "finalizeGame", "makeMove", "maybeAIMove"], "search-terms": ["useTicTacToe", "reactive game state", "winner detection", "AI move", "score management", "opponent toggle", "Vue Composition API"], "state": 2, "file_id": 12, "knowledge_revision": 26, "git_revision": "", "ctags": [{"_type": "tag", "name": "AuditApi", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^interface AuditApi {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "WIN_LINES", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^const WIN_LINES: number[][] = [$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "a", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^      const [a,bIdx,c] = line$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "aiIdx", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^    const aiIdx = bestMove(board.value, 'O', 9)$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "bIdx", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^      const [a,bIdx,c] = line$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "before", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^      const before = audit.snapshot(state.value)$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "before", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^    const before = audit.snapshot(state.value)$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "board", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^  const board = ref<Board>(Array(9).fill(null))$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "c", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^      const [a,bIdx,c] = line$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "currentPlayer", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^  const currentPlayer = ref<Player>('X')$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "gameOver", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^  const gameOver = ref(false)$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "interface", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^interface AuditApi {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "line", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^    for (const line of WIN_LINES) {$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "log", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^  log: (entry: any) => void$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "opponentMode", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^  const opponentMode = ref<'human'|'ai'>('human')$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "result", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^      const result = checkWinner(board.value)$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "scores", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^  const scores = ref<Scores>({ X: 0, O: 0, draws: 0 })$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^  const state = computed<GameState>(() => ({$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "useTicTacToe", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^export function useTicTacToe(audit: AuditApi) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "winner", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^  const winner = ref<Player | 'draw' | null>(null)$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}, {"_type": "tag", "name": "winningLine", "path": "/home/kavia/workspace/code-generation/tic-tac-toe-classic-210398-210416/tictactoe_frontend/composables/useTicTacToe.ts", "pattern": "/^  const winningLine = ref<number[] | null>(null)$/", "language": "TypeScript", "kind": "constant", "scope": "useTicTacToe", "scopeKind": "function"}], "hash": "988864189281cbba68cc2c0e3f89de55", "format-version": 4, "code-base-name": "tictactoe_frontend", "filename": "tictactoe_frontend/composables/useTicTacToe.ts", "revision_history": [{"26": ""}]}